<div class="clientes-wrapper">
  <!-- Campo de búsqueda -->
  <div class="search-container">
    <label for="buscarClienteId" class="search-label">Ingrese el correo:</label>
    <input 
      type="text" 
      id="buscarClienteId" 
      [(ngModel)]="idClienteBuscar" 
      inputmode="email" 
      (input)="buscarClienteTiempoReal()" 
      class="search-input" 
      placeholder="Ingrese su correo"
      aria-label="Ingrese el correo para buscar clientes"
    />
  </div>

  <!-- Contenedor de clientes -->
  <div class="clientes-container">
    <div *ngFor="let cliente of clientesFiltrados" class="cliente-card">
      <!-- Encabezado con imagen -->
      <div class="card-header">
        <img [src]="cliente.foto" alt="Foto de {{ cliente.usuario }}" class="cliente-foto"/>
      </div>

      <!-- Información del cliente -->
      <div class="card-body">
        <h5 class="cliente-nombre">{{ cliente.usuario }}</h5>

        <!-- Verifica que cliente.persona exista antes de mostrar los datos -->
        <div *ngIf="cliente.persona">
          <p><strong>Nombre:</strong> {{ cliente.persona.nombre }} {{ cliente.persona.nombre2 }} {{ cliente.persona.apellido }} {{ cliente.persona.apellido2 }}</p>
          <p><strong>Cédula:</strong> {{ cliente.cedula_persona }}</p>
          <p><strong>Correo:</strong> {{ cliente.usuario }}</p>
          <p><strong>Edad:</strong> {{ cliente.persona.edad }}</p>
          <p><strong>Género:</strong> {{ cliente.persona.genero }}</p>
          <p><strong>Teléfono:</strong> {{ cliente.persona.telefono }}</p>
          <p><strong>Dirección:</strong> {{ cliente.persona.direccion }}</p>

          <!-- Contacto de emergencia (si está disponible) -->
          <div class="contacto-emergencia" *ngIf="cliente.persona.nombreContactoEmergencia">
            <p><strong>Contacto de emergencia:</strong> {{ cliente.persona.nombreContactoEmergencia }} - {{ cliente.persona.telefonoContactoEmergencia }} ({{ cliente.persona.parentescoContactoEmergencia }})</p>
          </div>
          <div class="contacto-emergencia" *ngIf="cliente.persona.nombreContactoEmergencia2">
            <p><strong>Contacto de emergencia 2:</strong> {{ cliente.persona.nombreContactoEmergencia2 }} - {{ cliente.persona.telefonoContactoEmergencia2 }} ({{ cliente.persona.parentescoContactoEmergencia2 }})</p>
          </div>
        </div>

      </div>

      
    </div>
  </div>
</div>